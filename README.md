# BakeCake — чат-бот для продажи тортов
Проект представляет собой Telegram-бота для оформления заказов на торты. Пользователи могут выбрать форму, начинку, декор и размер торта, а бот рассчитает итоговую стоимость и сохранит заказ. 
Для удобства реализована генерация коротких ссылок через VK API, а также подсчет статистики по ним.

## Функциональность бота
* Выбор параметров торта:
    * форма, начинка, декор, размер;
    * бот показывает изображения и описание вариантов.
* Автоматический расчет цены — сумма формируется на основе выбранных параметров.
* Оформление заказа — пользователь оставляет контактные данные, которые сохраняются в базе данных.
* Генерация коротких ссылок (VK API) — для приглашения друзей или рекламы; есть статистика переходов.
* Админ-панель Django — администратор может добавлять новые торты, редактировать опции и смотреть заказы.
* Работа с изображениями — показ вариантов декора и форм тортов через Pillow.
* Статистика заказов и переходов — хранение и просмотр данных о клиентах

## Как установить
Убедитесь, что установлен Python 3.12.6. Затем используйте pip для установки зависимостей:
```
pip install -r requirements.txt
```
Создайте базу данных Создайте базу данных SQLite:
```
python manage.py makemigrations
python manage.py migrate
```
Запустить сервер:
```
python manage.py runserver
```

### Как запустить:
В проекте используется библиотека `python-dotenv` для хранения конфиденциальных данных.

Создайте файл .env в корне проекта и добавьте туда:
```text
TELEGRAM_BOT_TOKEN=токен_вашего_бота
VK_ACCESS_TOKEN=токен_VK_API
DEBUG=1
```
* TELEGRAM_BOT_TOKEN — токен бота, выданный [BotFather](https://t.me/BotFather)
* VK_ACCESS_TOKEN — токен доступа к VK API (используется для генерации коротких ссылок и сбора статистики).
* DEBUG — режим отладки (1 — включен, 0 — выключен).
#### Получение VK токена 
Требуемая перемнная ```VK_TOKEN``` 
    - Токен доступа к API Вконтакте. Его вы получаете при создании приложения Вконтакте и его настройке. 
Для этого нужно:
1. [Социальная сеть ВК](https://vk.com/feed) - зарегистрируйтесь
2. [Сервисный токен приложения](https://id.vk.com/about/business/go/docs/ru/vkid/latest/vk-id/connection/tokens/service-token)
    - Создание приложения
    - Тип приложения - Web
    - Базовый домен - example.com
    - Доверенный Redirect URL - https://example.com

Вы увидите сервисный токен приложения на подобии такого: 82a02da882a02da882a02da8a981b7f3cc882a082a02da8e4af9c41e8551329276dde72.

## Запуск проекта

Для запуска бота используйте:
```
python bot.py
```
После этого бот начнет принимать заказы в Telegram.


